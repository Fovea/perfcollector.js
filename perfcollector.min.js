!function(){"use strict";var t,e=this;t="undefined"!=typeof exports?exports:e.PerfCollector={},t.VERSION="0.1.0";var s=e.performance||{};s.now=function(){return s.now||s.mozNow||s.msNow||s.oNow||s.webkitNow||function(){return(new Date).getTime()}}();var o=t.Timer=function(){this.enabled=!1,this.stats={},this._startDate={},this._timerConsoleName={}};o.prototype.start=function(t,e){if(this.enabled){var o=_.uniqueId("jt");return this._startDate[o]=t||s.now(),console.profile&&e&&(this._timerConsoleName[o]=e,console.profile(e)),o}},o.prototype.end=function(t,e,o){if(this.enabled)if(this._startDate[t]){var i=(o||s.now())-this._startDate[t];if(delete this._startDate[t],console.profile&&this._timerConsoleName[t]&&(console.profileEnd(this._timerConsoleName[t]),delete this._timerConsoleName[t]),"undefined"!=typeof this.stats[e]){var n=this.stats[e];n.calls+=1,n.totalMs+=i,i>n.maxMs&&(n.maxMs=i)}else this.stats[e]={calls:1,totalMs:i,maxMs:i};console.log("time("+e+") = "+i+"ms")}else console.log("WARNING: invalid profiling timer")}}.call(this);